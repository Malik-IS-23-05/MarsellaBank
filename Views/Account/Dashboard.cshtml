@model Client
@{
    ViewData["Title"] = "Личный кабинет";
}

<div class="account-container">
    <h1>Ваши карты</h1>

    <div class="cards-grid">
        @foreach (var account in Model.Accounts)
        {
            @foreach (var card in account.Cards)
            {
                <div class="card-item">
                    <h3>Карта @card.Number</h3>
                    <p>Баланс: @card.Balance.ToString("C")</p>
                </div>
            }
        }
    </div>

    <div class="transactions-section">
        <h2>Последние операции</h2>
        <table class="transactions-table">
            <thead>
                <tr>
                    <th>Дата</th>
                    <th>Отправитель</th>
                    <th>Получатель</th>
                    <th>Сумма</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var account in Model.Accounts)
                {
                    @foreach (var transaction in account.Transactions.OrderByDescending(t => t.Date).Take(5))
                    {
                        <tr>
                            <td>@transaction.Date.ToString("g")</td>
                            <td>@transaction.FromCard?.Number</td>
                            <td>@transaction.ToCard?.Number</td>
                            <td>@transaction.Amount.ToString("C")</td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>

<style>
    .account-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    .cards-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin: 30px 0;
    }

    .card-item {
        background: #fff;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .transactions-section {
        margin-top: 40px;
    }

    .transactions-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

        .transactions-table th,
        .transactions-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .transactions-table th {
            background-color: #2c3e50;
            color: white;
        }

        .transactions-table tr:hover {
            background-color: #f5f5f5;
        }
</style>